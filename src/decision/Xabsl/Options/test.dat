// Intermediate code for the agents of 

0
9
e _attackMode attackMode
b ball_first_seen
d ball_found_ball_bearing
d ball_found_ball_range
d camera_search_step
d goal_found_goal_bearing
d goal_found_goal_range
d robot_turn_theta
b search_loop_complete

9
opt_attack 0
opt_defender_prepare 0
opt_free_kick 0
opt_game_process 0
opt_go_to_ball 0
opt_kick_ball 0
opt_penalty 0
opt_search_for_ball_kick_off 0
opt_search_goal 0

15
search_kick_off n
rotate_kick_off n
first_kick n
follow_after_kick_off n
stop_1_before_shoot n
stop_2_before_shoot n
rotate_before_shoot n
search_for_goal n
shoot n
blind_follow_after_shoot n
track_after_shoot n
search_after_lost n
go_to_ball_from_any n
dribble n
attack_done n

search_kick_off
0
2
e headMode
v _headMode.CloseMid 
a behavior_nothing
0
i
!
i isAttacker
0
t attack_done
i
i isBallSeen
0
t rotate_kick_off
i
<
s
c 2000
t search_kick_off
t search_after_lost
0
3
d target_theta
-
v 0
c -0.5
d target_x
c 0.2
a behavior_rotate_around_center
0
i
!
i isAttacker
0
t attack_done
i
!
i isBallSeen
0
t search_after_lost
i
| 2
<
s
c 2000
i is_robot_moving
0
t rotate_kick_off
i
c
o attackMode
v _attackMode.kick_kick 
t first_kick
i
c
o attackMode
v _attackMode.dribble_kick 
t dribble
t rotate_kick_off
0
2
d kick_speed
v 0
o opt_kick_ball
0
i
!
i isAttacker
0
t attack_done
i
!
t
t first_kick
t follow_after_kick_off
0
2
e headMode
v _headMode.CloseMid 
a behavior_walk
0
i
!
i isAttacker
0
t attack_done
i
>
s
c 3000
i
i isBallSeen
0
t stop_1_before_shoot
t search_after_lost
i
& 2
i isBallSeen
0
<
i ballRange
0
c 0.6
t stop_1_before_shoot
t follow_after_kick_off
0
2
e headMode
v _headMode.FarMid 
a behavior_stop_walk
0
i
!
i isAttacker
0
t attack_done
i
i is_robot_moving
0
t stop_1_before_shoot
t stop_2_before_shoot
0
2
e headMode
v _headMode.CloseMid 
a behavior_nothing
0
i
!
i isAttacker
0
t attack_done
i
<
s
*
v 2
c 100
t stop_2_before_shoot
t rotate_before_shoot
0
4
e headMode
v _headMode.CloseMid 
d target_theta
-
v 0
i goalCenterBearing
0
d target_x
i ballRange
0
a behavior_rotate_around_center
0
i
!
i isAttacker
0
t attack_done
i
| 2
<
s
c 2000
i is_robot_moving
0
t rotate_before_shoot
i
!
i isBallSeen
0
t search_after_lost
i
i isGoalSeen
0
t shoot
t attack_done
0
1
o opt_search_goal
0
i
!
i isAttacker
0
t attack_done
i
!
t
t search_for_goal
t rotate_before_shoot
0
3
e headMode
v _headMode.FarMid 
d kick_speed
v 2
o opt_kick_ball
0
i
!
i isAttacker
0
t attack_done
i
!
t
t shoot
t blind_follow_after_shoot
0
2
e headMode
v _headMode.FarMid 
a behavior_walk
0
i
!
i isAttacker
0
t attack_done
i
i isBallSeen
0
t track_after_shoot
i
<
s
c 3000
t blind_follow_after_shoot
t search_after_lost
0
2
e headMode
v _headMode.BothTrack 
a behavior_walk_to_ball
0
i
!
i isAttacker
0
t attack_done
i
!
i isBallSeen
0
t search_after_lost
i
<
i ballRange
0
c 0.6
t stop_1_before_shoot
t track_after_shoot
0
1
o opt_search_for_ball_kick_off
0
i
!
i isAttacker
0
t attack_done
i
!
t
t search_after_lost
t go_to_ball_from_any
0
1
o opt_go_to_ball
0
i
!
i isAttacker
0
t attack_done
i
!
t
t go_to_ball_from_any
t shoot
0
2
e headMode
v _headMode.FarMid 
a behavior_walk
0
i
!
i isAttacker
0
t attack_done
i
<
s
c 4000
t dribble
t stop_1_before_shoot
1
1
a behavior_nothing
0
t attack_done



2
walk_to_center n
stop n

walk_to_center
0
2
d target_range
v 3
a behavior_step_forward
0
i
i isSet
0
t stop
t walk_to_center
1
1
a behavior_nothing
0
t stop



4
search_ball n
near_ball_adjust n
freeze n
before_kick n

search_ball
0
1
o opt_search_for_ball_kick_off
0
i
& 2
!
t
n
i sec_state_info
0
v 1
t search_ball
i
=
i sec_state_info
0
v 1
t freeze
t near_ball_adjust
0
1
a behavior_nothing
0
i
& 2
!
t
n
i sec_state_info
0
v 1
t near_ball_adjust
t freeze
0
1
a behavior_nothing
0
i
=
i sec_state_info
0
v 2
t before_kick
t freeze
1
1
a behavior_nothing
0
t before_kick



14
initialize_motors n
wait_for_ready n
defender_prepare n
initializing n
wait_for_start n
attack n
idle_state n
search_ball n
go_to_ball n
shoot n
penalty n
free_kick n
time_out n
game_over n

initialize_motors
0
2
e headMode
v _headMode.FarMid 
a behavior_initialize_motors
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
<
s
c 5000
t initialize_motors
t wait_for_ready
0
1
a behavior_nothing
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
!
i isReady
0
t wait_for_ready
i
i isAttacker
0
t initializing
t defender_prepare
0
1
o opt_defender_prepare
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
!
t
t defender_prepare
t initializing
0
3
e headMode
v _headMode.CloseMid 
d kick_speed
v 0
a behavior_initialize
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
<
s
c 2000
t initializing
t wait_for_start
0
2
e headMode
v _headMode.CloseMid 
a behavior_nothing
0
i
| 2
!
i isGameStart
0
i isGameOver
0
t wait_for_start
i
i pause
0
t idle_state
i
i isAttacker
0
t attack
t search_ball
0
2
e attackMode
v _attackMode.dribble_kick 
o opt_attack
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
!
t
t attack
t game_over
0
2
e headMode
v _headMode.FarMid 
a behavior_nothing
0
i
i isGameOver
0
t game_over
i
<
s
c 3000
t idle_state
i
=
i sec_state
0
v 0
t search_ball
i
| 2
=
i sec_state
0
v 1
=
i sec_state
0
v 6
t penalty
i
| 2
=
i sec_state
0
v 4
=
i sec_state
0
v 5
t free_kick
i
=
i sec_state
0
v 3
t time_out
t search_ball
0
1
o opt_search_for_ball_kick_off
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
!
t
t search_ball
t go_to_ball
0
1
o opt_go_to_ball
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
!
t
t go_to_ball
t shoot
0
3
e headMode
v _headMode.FarMid 
d kick_speed
v 2
o opt_kick_ball
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
!
t
t shoot
t search_ball
0
1
o opt_penalty
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
!
t
t penalty
t search_ball
0
1
o opt_free_kick
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
!
t
t free_kick
t search_ball
0
1
a behavior_nothing
0
i
i isGameOver
0
t game_over
t search_ball
1
1
a behavior_nothing
0
t game_over



7
check_before_walk n
rotate_before_walk n
during_walk n
stop_walking_1 n
stop_walking_2 n
rotate_after_walk n
go_to_ball_done n

check_before_walk
0
2
e headMode
v _headMode.HorizontalTrack 
a behavior_nothing
0
i
<
s
c 200
t check_before_walk
i
<
i ballRange
0
c 0.6
t rotate_after_walk
i
i is_within_tol
0
t during_walk
t rotate_before_walk
0
4
e headMode
v _headMode.HorizontalTrack 
d target_theta
q
>
i ballBearing
0
v 0
-
i ballBearing
0
i theta_start_walking
0
+
i ballBearing
0
i theta_start_walking
0
d target_x
v 0
a behavior_rotate_around_center
0
i
| 2
<
s
c 2000
i is_robot_moving
0
t rotate_before_walk
t during_walk
0
2
e headMode
v _headMode.BothTrack 
a behavior_walk_to_ball
0
i
<
i ballRange
0
c 0.6
t stop_walking_1
t during_walk
0
2
e headMode
v _headMode.BothTrack 
a behavior_stop_walk
0
i
i is_robot_moving
0
t stop_walking_1
t stop_walking_2
0
2
e headMode
v _headMode.BothTrack 
a behavior_nothing
0
i
<
s
*
v 2
c 100
t stop_walking_2
t rotate_after_walk
0
4
e headMode
v _headMode.FarMid 
d target_theta
-
v 0
i virtualGoalBearing
0
d target_x
i ballRange
0
a behavior_rotate_around_center
0
i
| 2
<
s
c 2000
i is_robot_moving
0
t rotate_after_walk
t go_to_ball_done
1
1
a behavior_nothing
0
t go_to_ball_done



5
decide_kick_speed n
kick_ball_soft n
kick_ball_mid n
kick_ball_strong n
kick_done n

decide_kick_speed
0
1
a behavior_nothing
0
i
<
s
c 1000
t decide_kick_speed
i
=
o kick_speed
v 0
t kick_ball_soft
i
=
o kick_speed
v 1
t kick_ball_mid
t kick_ball_strong
0
2
e headMode
v _headMode.CloseMid 
a behavior_kick_ball_soft
0
i
| 2
i is_robot_moving
0
<
s
c 2000
t kick_ball_soft
t kick_done
0
2
e headMode
v _headMode.CloseMid 
a behavior_kick_ball_mid
0
i
| 2
i is_robot_moving
0
<
s
c 2000
t kick_ball_mid
t kick_done
0
2
e headMode
v _headMode.CloseMid 
a behavior_kick_ball_strong
0
i
| 2
i is_robot_moving
0
<
s
c 2000
t kick_ball_strong
t kick_done
1
1
a behavior_nothing
0
t kick_done



4
search_ball n
near_ball_adjust n
freeze n
before_kick n

search_ball
0
1
o opt_search_for_ball_kick_off
0
i
& 2
!
t
n
i sec_state_info
0
v 1
t search_ball
i
=
i sec_state_info
0
v 1
t freeze
t near_ball_adjust
0
2
d kick_speed
v 2
a behavior_nothing
0
i
& 2
!
t
n
i sec_state_info
0
v 1
t near_ball_adjust
t freeze
0
1
a behavior_nothing
0
i
=
i sec_state_info
0
v 2
t before_kick
t freeze
1
1
a behavior_nothing
0
t before_kick



14
start_ball_search n
look_up_mid n
look_down_mid n
look_up_right n
look_up_left n
look_down_left n
look_down_right n
look_down_right_back n
look_down_left_back n
look_up_right_back n
look_up_left_back n
ball_seen n
turn_body n
ball_seen_over n

start_ball_search
0
1
a behavior_nothing
0
i
i isBallSeen
0
t ball_seen
i
c
o lastBallDir
v _headMode.FarMid 
t look_up_mid
i
c
o lastBallDir
v _headMode.FarRight 
t look_up_right
i
c
o lastBallDir
v _headMode.FarLeft 
t look_up_left
i
c
o lastBallDir
v _headMode.CloseRight 
t look_down_right
i
c
o lastBallDir
v _headMode.CloseLeft 
t look_down_left
i
c
o lastBallDir
v _headMode.CloseLeftBack 
t look_down_left_back
i
c
o lastBallDir
v _headMode.CloseRightBack 
t look_down_right_back
i
c
o lastBallDir
v _headMode.FarLeftBack 
t look_up_left_back
i
c
o lastBallDir
v _headMode.FarRightBack 
t look_up_right_back
t look_down_mid
0
4
e headMode
v _headMode.FarMid 
e lastBallDir
v _headMode.FarMid 
b search_loop_complete
v true
a behavior_initialize
0
i
i isBallSeen
0
t ball_seen
i
<
s
c 2000
t look_up_mid
t look_down_mid
0
3
e headMode
v _headMode.CloseMid 
e lastBallDir
v _headMode.CloseMid 
a behavior_initialize
0
i
i isBallSeen
0
t ball_seen
i
o search_loop_complete
t turn_body
i
<
s
c 2000
t look_down_mid
t look_up_right
0
3
e headMode
v _headMode.FarRight 
e lastBallDir
v _headMode.FarRight 
a behavior_initialize
0
i
i isBallSeen
0
t ball_seen
i
o search_loop_complete
t turn_body
i
<
s
c 2000
t look_up_right
t look_up_right_back
0
3
e headMode
v _headMode.FarLeft 
e lastBallDir
v _headMode.FarLeft 
a behavior_initialize
0
i
i isBallSeen
0
t ball_seen
i
o search_loop_complete
t turn_body
i
<
s
c 2000
t look_up_left
t look_up_mid
0
3
e headMode
v _headMode.CloseLeft 
e lastBallDir
v _headMode.CloseLeft 
a behavior_initialize
0
i
i isBallSeen
0
t ball_seen
i
o search_loop_complete
t turn_body
i
<
s
c 2000
t look_down_left
t look_down_left_back
0
3
e headMode
v _headMode.CloseRight 
e lastBallDir
v _headMode.CloseRight 
a behavior_initialize
0
i
i isBallSeen
0
t ball_seen
i
o search_loop_complete
t turn_body
i
<
s
c 2000
t look_down_right
t look_down_left
0
3
e headMode
v _headMode.CloseRightBack 
e lastBallDir
v _headMode.CloseRightBack 
a behavior_initialize
0
i
i isBallSeen
0
t ball_seen
i
o search_loop_complete
t turn_body
i
<
s
c 2000
t look_down_right_back
t look_down_right
0
3
e headMode
v _headMode.CloseLeftBack 
e lastBallDir
v _headMode.CloseLeftBack 
a behavior_initialize
0
i
i isBallSeen
0
t ball_seen
i
o search_loop_complete
t turn_body
i
<
s
c 2000
t look_down_left_back
t look_up_left_back
0
3
e headMode
v _headMode.FarRightBack 
e lastBallDir
v _headMode.FarRightBack 
a behavior_initialize
0
i
i isBallSeen
0
t ball_seen
i
o search_loop_complete
t turn_body
i
<
s
c 2000
t look_up_right_back
t look_down_right_back
0
3
e headMode
v _headMode.FarLeftBack 
e lastBallDir
v _headMode.FarLeftBack 
a behavior_initialize
0
i
i isBallSeen
0
t ball_seen
i
o search_loop_complete
t turn_body
i
<
s
c 2000
t look_up_left_back
t look_up_left
0
4
d ball_found_ball_bearing
i ballBearing
0
d ball_found_ball_range
i ballRange
0
d ball_found_head_angle_yaw
i ballFoundHeadAngleYaw
0
a behavior_nothing
0
i
<
s
c 2000
t ball_seen
t ball_seen_over
0
5
d target_x
v 0
d target_theta
c 100
e headMode
v _headMode.FarMid 
b search_loop_complete
v false
a behavior_rotate_around_center
0
i
| 2
<
s
c 2000
i is_robot_moving
0
t turn_body
t look_down_mid
1
2
e headMode
v _headMode.HorizontalTrack 
a behavior_nothing
0
t ball_seen_over



5
start_goal_search n
look_up_mid n
look_up_right n
look_up_left n
goal_seen n

start_goal_search
0
1
a behavior_nothing
0
t look_up_left
0
2
e headMode
v _headMode.FarMid 
a behavior_initialize
0
i
i isGoalSeen
0
t goal_seen
i
<
s
c 2000
t look_up_mid
t look_up_right
0
2
e headMode
v _headMode.FarRight 
a behavior_initialize
0
i
i isGoalSeen
0
t goal_seen
i
<
s
c 2000
t look_up_right
t look_up_left
0
3
e headMode
v _headMode.FarLeft 
e lastBallDir
v _headMode.FarLeft 
a behavior_initialize
0
i
i isGoalSeen
0
t goal_seen
i
<
s
c 2000
t look_up_left
t look_up_mid
1
2
e headMode
v _headMode.HorizontalTrack 
a behavior_nothing
0
t goal_seen



1
Decision opt_game_process
