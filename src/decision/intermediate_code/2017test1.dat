// Intermediate code for the agents of 

0
7
b ball_first_seen
d ball_found_ball_bearing
d ball_found_ball_range
d camera_search_step
d goal_found_goal_bearing
d goal_found_goal_range
d robot_turn_theta

10
opt_defender_prepare 0
opt_free_kick 0
opt_game_nearballadjust 0
opt_game_penalty 0
opt_kick_ball 0
opt_near_ball_adjust_test_2 0
opt_penalty 0
opt_search_for_ball_kick_off 0
opt_search_for_goal_test 0
opt_walk_with_ball 0

2
walk_to_center n
stop n

walk_to_center
0
2
d target_range
v 3
a behavior_step_forward
0
i
i isSet
0
t stop
t walk_to_center
1
1
a behavior_nothing
0
t stop



4
search_ball n
near_ball_adjust n
freeze n
before_kick n

search_ball
0
1
o opt_search_for_ball_kick_off
0
i
& 2
!
t
n
i sec_state_info
0
v 1
t search_ball
i
=
i sec_state_info
0
v 1
t freeze
t near_ball_adjust
0
1
o opt_near_ball_adjust_test_2
0
i
& 2
!
t
n
i sec_state_info
0
v 1
t near_ball_adjust
t freeze
0
1
a behavior_nothing
0
i
=
i sec_state_info
0
v 2
t before_kick
t freeze
1
1
a behavior_nothing
0
t before_kick



22
initialize_motors n
wait_for_ready n
defender_prepare n
initializing n
wait_for_start n
walk_with_ball n
search_ball n
near_ball_adjust n
search_ball_before_kick_ball n
search_ball_again n
before_kick_ball n
step_forward n
step_backward n
step_right n
step_left n
kick_ball n
after_kick n
idle_state n
penalty n
time_out n
free_kick n
game_over n

initialize_motors
0
1
a behavior_initialize_motors
0
i
<
s
v 10000
t initialize_motors
i
i pause
0
t idle_state
t wait_for_ready
0
2
e headMode
v _headMode.CloseMid 
a behavior_nothing
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
!
i isReady
0
t wait_for_ready
i
i isAttacker
0
t initializing
t defender_prepare
0
1
o opt_defender_prepare
0
i
i isGameOver
0
t defender_prepare
i
i pause
0
t idle_state
i
!
t
t defender_prepare
t initializing
0
3
e headMode
v _headMode.CloseMid 
d kick_speed
v 0
a behavior_initialize
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
<
s
v 2000
t initializing
t wait_for_start
0
2
e headMode
v _headMode.CloseMid 
a behavior_nothing
0
i
| 2
!
i isGameStart
0
i isGameOver
0
t wait_for_start
i
i pause
0
t idle_state
i
i isAttacker
0
t walk_with_ball
t search_ball
0
3
e headMode
v _headMode.CloseMid 
d kick_speed
v 0
o opt_walk_with_ball
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
!
t
t walk_with_ball
t search_ball
0
1
o opt_search_for_ball_kick_off
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
!
t
t search_ball
t near_ball_adjust
0
3
e lastBallDir
v _headMode.CloseMid 
d kick_speed
v 2
o opt_near_ball_adjust_test_2
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
!
t
t near_ball_adjust
t search_ball_before_kick_ball
0
2
e headMode
v _headMode.CloseMid 
a behavior_nothing
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
i isBallSeen
0
t kick_ball
i
>
s
v 10000
t step_backward
t search_ball_before_kick_ball
0
1
o opt_search_for_ball_kick_off
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
t
t near_ball_adjust
t search_ball_again
0
2
e headMode
v _headMode.CloseMid 
a behavior_nothing
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
& 2
>
s
v 4000
!
i isBallSeen
0
t search_ball
i
& 4
>
s
v 4000
>
i ballRange
0
v 0.2
<
i ballBearing
0
v 3
>
i ballBearing
0
v -3
t step_forward
i
& 2
>
s
v 4000
>
i ballBearing
0
v 0
t step_right
i
& 2
>
s
v 4000
<
i ballBearing
0
v 0
t step_left
t before_kick_ball
0
2
d target_range
v 0.15
a behavior_step_forward
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
& 2
<
s
v 2000
i is_robot_moving
0
t step_forward
t kick_ball
0
2
d target_range
v 0.15
a behavior_step_backward
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
& 2
<
s
v 2000
i is_robot_moving
0
t step_backward
t kick_ball
0
2
d target_range
i ballRange
0
a behavior_step_right
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
& 2
<
s
v 2000
i is_robot_moving
0
t step_right
t kick_ball
0
2
d target_range
i ballRange
0
a behavior_step_left
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
& 2
<
s
v 2000
i is_robot_moving
0
t step_left
t kick_ball
0
1
o opt_kick_ball
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
!
t
t kick_ball
i
i cannot_kick
0
t before_kick_ball
t after_kick
0
2
e lastBallDir
v _headMode.FarMid 
a behavior_nothing
0
i
i isGameOver
0
t game_over
i
i pause
0
t idle_state
i
<
s
v 3000
t after_kick
t search_ball
0
1
a behavior_nothing
0
i
i isGameOver
0
t game_over
i
<
s
v 3000
t idle_state
i
=
i sec_state
0
v 0
t search_ball
i
| 2
=
i sec_state
0
v 1
=
i sec_state
0
v 6
t penalty
i
| 2
=
i sec_state
0
v 4
=
i sec_state
0
v 5
t free_kick
i
=
i sec_state
0
v 3
t time_out
t search_ball
0
1
o opt_penalty
0
i
i isGameOver
0
t game_over
i
!
t
t penalty
t search_ball
0
1
a behavior_nothing
0
i
i isGameOver
0
t game_over
t search_ball
0
1
o opt_free_kick
0
i
i isGameOver
0
t game_over
i
!
t
t free_kick
t search_ball
1
1
a behavior_nothing
0
t game_over



6
step_forward n
before_kick n
kick_left n
kick_right n
kick_ball n
kick_done n

step_forward
0
2
d target_range
v 0.3
a behavior_step_forward
0
i
& 2
!
i is_robot_moving
0
>
s
v 2000
t before_kick
t step_forward
0
2
d kick_speed
v 2
a behavior_nothing
0
i
& 3
i isOpponentSeen
0
<
i opponentCenterBearing
0
v 5
>
i opponentCenterBearing
0
v 0
t kick_left
i
& 3
i isOpponentSeen
0
>
i opponentCenterBearing
0
v -5
>
i opponentCenterBearing
0
v 0
t kick_right
t kick_ball
0
2
d target_theta
v 10
a behavior_center_round_anticlockwise
0
i
& 2
!
i is_robot_moving
0
>
s
v 2000
t kick_ball
t kick_left
0
2
d target_theta
v 10
a behavior_center_round_clockwise
0
i
& 2
!
i is_robot_moving
0
>
s
v 2000
t kick_ball
t kick_right
0
1
o opt_kick_ball
0
i
& 2
!
i is_robot_moving
0
>
s
v 2000
t kick_done
t kick_ball
1
1
a behavior_nothing
0
t kick_done



5
decide_kick_speed n
kick_ball_soft n
kick_ball_mid n
kick_ball_strong n
kick_done n

decide_kick_speed
0
1
a behavior_nothing
0
i
<
s
v 1000
t decide_kick_speed
i
=
o kick_speed
v 0
t kick_ball_soft
i
=
o kick_speed
v 1
t kick_ball_mid
t kick_ball_strong
0
2
e headMode
v _headMode.CloseMid 
a behavior_kick_ball_soft
0
i
| 2
i is_robot_moving
0
<
s
v 2000
t kick_ball_soft
t kick_done
0
2
e headMode
v _headMode.CloseMid 
a behavior_kick_ball_mid
0
i
| 2
i is_robot_moving
0
<
s
v 2000
t kick_ball_mid
t kick_done
0
2
e headMode
v _headMode.CloseMid 
a behavior_kick_ball_strong
0
i
| 2
i is_robot_moving
0
<
s
v 2000
t kick_ball_strong
t kick_done
1
1
a behavior_nothing
0
t kick_done



15
walk_to_ball_decide n
walk_to_ball_goal_far_right n
walk_to_ball_goal_far_left n
walk_to_ball_goal_far_back_right n
walk_to_ball_goal_far_back_left n
second_search_ball n
walk_to_ball_goal_close n
turn_with_odom n
clockwise_odom n
anticlockwise_odom n
check_opponent n
avoid_opponent n
do_clockwise n
do_anticlockwise n
adjust_done n

walk_to_ball_decide
0
1
a behavior_nothing
0
i
<
i ballRange
0
v 0.3
t turn_with_odom
i
& 2
>
-
o ball_found_ball_bearing
o ball_found_head_angle_yaw
v 0
| 2
<
i odom_orientation
0
v 90
>
i odom_orientation
0
v -90
t walk_to_ball_goal_far_right
i
& 2
<
-
o ball_found_ball_bearing
o ball_found_head_angle_yaw
v 0
| 2
<
i odom_orientation
0
v 90
>
i odom_orientation
0
v -90
t walk_to_ball_goal_far_left
i
& 2
>
-
o ball_found_ball_bearing
o ball_found_head_angle_yaw
v 0
| 2
>
i odom_orientation
0
v 90
<
i odom_orientation
0
v -90
t walk_to_ball_goal_far_back_right
t walk_to_ball_goal_far_back_left
0
5
d target_theta
i robot_goal_bearing_odom
0
e lastBallDir
v _headMode.CloseMid 
d target_range
o ball_found_ball_range
d target_bearing
+
o ball_found_ball_bearing
*
v 35
d
-
o ball_found_ball_bearing
o ball_found_head_angle_yaw
v 90
a behavior_walk
0
i
& 2
>
s
v 2000
!
i is_robot_moving
0
t second_search_ball
t walk_to_ball_goal_far_right
0
5
d target_theta
i robot_goal_bearing_odom
0
e lastBallDir
v _headMode.CloseMid 
d target_range
o ball_found_ball_range
d target_bearing
-
o ball_found_ball_bearing
*
v 40
d
-
o ball_found_ball_bearing
o ball_found_head_angle_yaw
v -90
a behavior_walk
0
i
& 2
>
s
v 2000
!
i is_robot_moving
0
t second_search_ball
t walk_to_ball_goal_far_left
0
5
d target_theta
i robot_goal_bearing_odom
0
e lastBallDir
v _headMode.CloseMid 
d target_range
+
o ball_found_ball_range
v 0.5
d target_bearing
-
o ball_found_ball_bearing
*
v 35
d
-
o ball_found_ball_bearing
o ball_found_head_angle_yaw
v 90
a behavior_walk
0
i
& 2
>
s
v 2000
!
i is_robot_moving
0
t second_search_ball
t walk_to_ball_goal_far_back_right
0
5
d target_theta
i robot_goal_bearing_odom
0
e lastBallDir
v _headMode.CloseMid 
d target_range
+
o ball_found_ball_range
v 0.5
d target_bearing
+
o ball_found_ball_bearing
*
v 40
d
-
o ball_found_ball_bearing
o ball_found_head_angle_yaw
v -90
a behavior_walk
0
i
& 2
>
s
v 2000
!
i is_robot_moving
0
t second_search_ball
t walk_to_ball_goal_far_back_left
0
2
e headMode
v _headMode.CloseMid 
o opt_search_for_ball_kick_off
0
i
!
t
t second_search_ball
i
>
i ballRange
0
v 0.3
t walk_to_ball_goal_close
t turn_with_odom
0
4
d target_theta
-
o ball_found_ball_bearing
o ball_found_head_angle_yaw
d target_range
-
o ball_found_ball_range
v 0.1
d target_bearing
o ball_found_ball_bearing
a behavior_walk
0
i
& 2
>
s
v 2000
!
i is_robot_moving
0
t turn_with_odom
t walk_to_ball_goal_close
0
2
e headMode
v _headMode.CloseMid 
a behavior_nothing
0
i
>
i robot_goal_bearing_odom
0
v 0
t clockwise_odom
t anticlockwise_odom
0
2
d target_theta
i robot_goal_bearing_odom
0
a behavior_center_round_clockwise
0
i
& 2
>
s
v 2000
!
i is_robot_moving
0
t check_opponent
t clockwise_odom
0
2
d target_theta
-
v 0
i robot_goal_bearing_odom
0
a behavior_center_round_anticlockwise
0
i
& 2
>
s
v 2000
!
i is_robot_moving
0
t check_opponent
t anticlockwise_odom
0
2
e headMode
v _headMode.FarMid 
a behavior_nothing
0
i
i isOpponentSeen
0
t avoid_opponent
i
>
s
v 5000
t adjust_done
t check_opponent
0
2
e headMode
v _headMode.CloseMid 
a behavior_nothing
0
i
& 2
<
i opponentCenterBearing
0
v 0.2
>
i opponentCenterBearing
0
v 0
t do_anticlockwise
i
& 2
>
i opponentCenterBearing
0
v -0.2
<
i opponentCenterBearing
0
v 0
t do_clockwise
t adjust_done
0
2
d target_theta
v 5
a behavior_center_round_clockwise
0
i
| 2
>
i opponentCenterBearing
0
v 0.2
<
i opponentCenterBearing
0
v -0.2
t adjust_done
t do_clockwise
0
2
d target_theta
v 5
a behavior_round_anticlockwise
0
i
| 2
>
i opponentCenterBearing
0
v 0.2
<
i opponentCenterBearing
0
v -0.2
t adjust_done
t do_anticlockwise
1
1
a behavior_nothing
0
t adjust_done



4
search_ball n
near_ball_adjust n
freeze n
before_kick n

search_ball
0
1
o opt_search_for_ball_kick_off
0
i
& 2
!
t
n
i sec_state_info
0
v 1
t search_ball
i
=
i sec_state_info
0
v 1
t freeze
t near_ball_adjust
0
2
d kick_speed
v 2
o opt_near_ball_adjust_test_2
0
i
& 2
!
t
n
i sec_state_info
0
v 1
t near_ball_adjust
t freeze
0
1
a behavior_nothing
0
i
=
i sec_state_info
0
v 2
t before_kick
t freeze
1
1
a behavior_nothing
0
t before_kick



9
start_ball_search n
look_up_mid n
look_down_mid n
look_up_right n
look_up_left n
look_down_left n
look_down_right n
ball_seen n
ball_seen_over n

start_ball_search
0
2
a behavior_nothing
0
d turned
v 0
i
i isBallSeen
0
t ball_seen
i
c
o lastBallDir
v _headMode.FarMid 
t look_up_mid
i
c
o lastBallDir
v _headMode.FarRight 
t look_up_right
i
c
o lastBallDir
v _headMode.FarLeft 
t look_up_left
i
c
o lastBallDir
v _headMode.CloseRight 
t look_down_right
i
c
o lastBallDir
v _headMode.CloseLeft 
t look_down_left
t look_down_mid
0
3
e headMode
v _headMode.FarMid 
e lastBallDir
v _headMode.FarMid 
a behavior_initialize
0
i
i isBallSeen
0
t ball_seen
i
<
s
v 5000
t look_up_mid
t look_down_mid
0
3
e headMode
v _headMode.CloseMid 
e lastBallDir
v _headMode.CloseMid 
a behavior_initialize
0
i
i isBallSeen
0
t ball_seen
i
<
s
v 5000
t look_down_mid
t look_up_right
0
3
e headMode
v _headMode.FarRight 
e lastBallDir
v _headMode.FarRight 
a behavior_initialize
0
i
i isBallSeen
0
t ball_seen
i
<
s
v 5000
t look_up_right
t look_up_left
0
3
e headMode
v _headMode.FarLeft 
e lastBallDir
v _headMode.FarLeft 
a behavior_initialize
0
i
i isBallSeen
0
t ball_seen
i
<
s
v 5000
t look_up_left
t look_down_left
0
3
e headMode
v _headMode.CloseLeft 
e lastBallDir
v _headMode.CloseLeft 
a behavior_initialize
0
i
i isBallSeen
0
t ball_seen
i
<
s
v 5000
t look_down_left
t look_down_right
0
3
e headMode
v _headMode.CloseRight 
e lastBallDir
v _headMode.CloseRight 
a behavior_initialize
0
i
i isBallSeen
0
t ball_seen
i
<
s
v 5000
t look_down_right
t look_up_mid
0
4
d ball_found_ball_bearing
i ballBearing
0
d ball_found_ball_range
i ballRange
0
d ball_found_head_angle_yaw
i ballFoundHeadAngleYaw
0
a behavior_nothing
0
i
<
s
v 1000
t ball_seen
t ball_seen_over
1
2
e headMode
v _headMode.BothTrack 
a behavior_nothing
0
t ball_seen_over



6
look_up_mid n
look_up_right n
look_up_left n
search_ball n
goal_seen n
goal_seen_over n

look_up_mid
0
3
e headMode
v _headMode.FarMid 
e nextGoalDir
v _headMode.FarRight 
a behavior_initialize
0
i
i isGoalSeen
0
t goal_seen
i
<
s
v 6000
t look_up_mid
t look_up_right
0
3
e headMode
v _headMode.FarRight 
e nextGoalDir
v _headMode.FarLeft 
a behavior_initialize
0
i
i isGoalSeen
0
t goal_seen
i
<
s
v 6000
t look_up_right
t look_up_left
0
3
e headMode
v _headMode.FarLeft 
e nextGoalDir
v _headMode.FarMid 
a behavior_initialize
0
i
i isGoalSeen
0
t goal_seen
i
<
s
v 6000
t look_up_left
t look_up_mid
0
1
o opt_search_for_ball_kick_off
0
i
!
i isBallSeen
0
t search_ball
i
c
o nextGoalDir
v _headMode.FarRight 
t look_up_right
i
c
o nextGoalDir
v _headMode.FarLeft 
t look_up_left
t look_up_mid
0
3
d robot_goal_bearing
-
i goalCenterBearing
0
i goalFoundHeadAngleYaw
0
d robot_turn_theta
i adjust_theta
0
a behavior_nothing
0
i
<
s
v 2000
t goal_seen
t goal_seen_over
1
1
a behavior_nothing
0
t goal_seen_over



4
walk_to_center n
attacker_prepare n
defender_prepare n
prepare_done n

walk_to_center
0
1
a behavior_nothing
0
i
i isAttacker
0
t attacker_prepare
t defender_prepare
0
3
d target_range
v -1
d target_theta
v 1.57
a behavior_walk
0
i
& 2
>
s
v 2000
!
i is_robot_moving
0
t prepare_done
t attacker_prepare
0
3
d target_range
v -2
d target_theta
v 1.57
a behavior_walk
0
i
& 2
>
s
v 2000
!
i is_robot_moving
0
t prepare_done
t defender_prepare
1
1
a behavior_nothing
0
t prepare_done



1
Decision opt_game_nearballadjust
